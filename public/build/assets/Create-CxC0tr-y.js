import{K as m,m as u,j as e}from"./app-DqhGHzoz.js";import{A as p}from"./AdminLayout-D05e8_fH.js";const b=()=>{const{props:o}=m(),{categories:l}=o,{data:r,setData:d,post:x,processing:n,errors:t}=u({name:"",description:"",price:"",image:null,category_id:"",discount:""}),c=a=>{a.preventDefault();const s=new FormData(a.target);s.append("name",r.name),s.append("description",r.description),s.append("price",r.price),r.discount&&s.append("discount",r.discount),r.image&&s.append("image",r.image),s.append("category_id",r.category_id),fetch(route("admin.products.store"),{method:"POST",body:s}).then(i=>i.json()).then(i=>{console.log(i)}).catch(i=>{console.error("Erro ao enviar produto",i)})};return e.jsx(p,{children:e.jsxs("div",{className:"max-w-lg mx-auto bg-white shadow-lg rounded-lg p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Criar Produto"}),e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Nome"}),e.jsx("input",{type:"text",value:r.name,onChange:a=>d("name",a.target.value),required:!0,maxLength:255,className:"w-full border-gray-300 rounded-md p-2"}),t.name&&e.jsx("p",{className:"text-red-500 text-sm",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Descrição"}),e.jsx("textarea",{value:r.description,onChange:a=>d("description",a.target.value),className:"w-full border-gray-300 rounded-md p-2"}),t.description&&e.jsx("p",{className:"text-red-500 text-sm",children:t.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Preço"}),e.jsx("input",{type:"number",value:r.price,onChange:a=>d("price",a.target.value),required:!0,className:"w-full border-gray-300 rounded-md p-2"}),t.price&&e.jsx("p",{className:"text-red-500 text-sm",children:t.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Desconto"}),e.jsx("input",{type:"number",value:r.discount,onChange:a=>d("discount",a.target.value),className:"w-full border-gray-300 rounded-md p-2"}),t.discount&&e.jsx("p",{className:"text-red-500 text-sm",children:t.discount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Imagem"}),e.jsx("input",{type:"file",onChange:a=>d("image",a.target.files?a.target.files[0]:null),className:"w-full border-gray-300 rounded-md p-2"}),t.image&&e.jsx("p",{className:"text-red-500 text-sm",children:t.image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Categoria"}),e.jsxs("select",{value:r.category_id,onChange:a=>d("category_id",a.target.value),required:!0,className:"w-full border-gray-300 rounded-md p-2",children:[e.jsx("option",{value:"",children:"Selecione uma categoria"}),l.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),t.category_id&&e.jsx("p",{className:"text-red-500 text-sm",children:t.category_id})]}),e.jsx("button",{type:"submit",disabled:n,className:`w-full text-white py-2 rounded-md transition ${n?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:n?"Criando...":"Criar Produto"})]})]})})};export{b as default};
